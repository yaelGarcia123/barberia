<div class="container">
  <h2>Gestión de Nóminas</h2>

  <!-- Selección del empleado -->
  <label for="empleado">Seleccionar Empleado:</label>
  <select [(ngModel)]="empleadoSeleccionado" class="form-control mb-2">
    <option [value]="null" disabled selected>-- Selecciona un empleado --</option>
    <option *ngFor="let empleado of empleados" [value]="empleado.idEmpleado">
      {{ empleado.nombre }} {{ empleado.apellido }}
    </option>
  </select>

  <button (click)="generarNomina()" class="btn btn-primary mb-3">Generar Nómina</button>

  <hr>

  <h3>Listado de Nóminas</h3>
  <table class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th>RFC</th>
        <th>Fecha</th>
        <th>Periodo</th>
        <th>Sueldo Bruto</th>
        <th>Percepciones</th>
        <th>Deducciones</th>
        <th>Sueldo Neto</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let nomina of nominas">
        <td>{{ nomina.rfc }}</td>
        <td>{{ nomina.fecha | date:'shortDate' }}</td>
        <td>{{ nomina.periodo }}</td>
        <td>{{ nomina.sueldoBruto | currency }}</td>
        <td>{{ nomina.totalPercepciones | currency }}</td>
        <td>{{ nomina.totalDeducciones | currency }}</td>
        <td>{{ nomina.sueldoNeto | currency }}</td>
        <td>
          <button (click)="descargarRecibo(nomina.idNomina)" class="btn btn-success btn-sm">
            Descargar Recibo
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>