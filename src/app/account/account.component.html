<div class="container my-5">
  <h2 class="mb-4 text-center">Mi Perfil</h2>

  <ul class="nav nav-tabs mb-3" id="profileTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="datos-tab" data-bs-toggle="tab" data-bs-target="#datos" type="button" role="tab">
        Datos Personales
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="direccion-tab" data-bs-toggle="tab" data-bs-target="#direccion" type="button" role="tab">
        Dirección
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="empresa-tab" data-bs-toggle="tab" data-bs-target="#empresa" type="button" role="tab">
        Empresa
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pago-tab" data-bs-toggle="tab" data-bs-target="#pago" type="button" role="tab">
        Método de Pago
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="ventas-tab" data-bs-toggle="tab" data-bs-target="#ventas" type="button" role="tab">
        Mis Ventas
      </button>
    </li>
  </ul>

  <div class="tab-content" id="profileTabsContent">
    <!-- Datos Personales -->
    <div class="tab-pane fade show active" id="datos" role="tabpanel">
      <form (ngSubmit)="guardarDatos()">
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="nombre" class="form-label">Nombre Completo</label>
            <input type="text" id="nombre" class="form-control" [(ngModel)]="perfil.nombre" name="nombre" required>
          </div>
          <div class="col-md-6">
            <label for="email" class="form-label">Correo Electrónico</label>
            <input type="email" id="email" class="form-control" [(ngModel)]="perfil.email" name="email" required>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="telefono" class="form-label">Teléfono</label>
            <input type="text" id="telefono" class="form-control" [(ngModel)]="perfil.telefono" name="telefono">
          </div>
        </div>
        <button class="btn btn-primary">Guardar Cambios</button>
      </form>
    </div>

    <!-- Dirección -->
    <div class="tab-pane fade" id="direccion" role="tabpanel">
      <form (ngSubmit)="guardarDireccion()">
        <div class="mb-3">
          <label for="direccion" class="form-label">Dirección</label>
          <input type="text" id="direccion" class="form-control" [(ngModel)]="perfil.direccion" name="direccion">
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="ciudad" class="form-label">Ciudad</label>
            <input type="text" id="ciudad" class="form-control" [(ngModel)]="perfil.ciudad" name="ciudad">
          </div>
          <div class="col-md-6">
            <label for="codigoPostal" class="form-label">Código Postal</label>
            <input type="text" id="codigoPostal" class="form-control" [(ngModel)]="perfil.codigoPostal" name="codigoPostal">
          </div>
        </div>
        <button class="btn btn-primary">Guardar Dirección</button>
      </form>
    </div>

    <!-- Empresa -->
    <div class="tab-pane fade" id="empresa" role="tabpanel">
      <form (ngSubmit)="guardarEmpresa()">
        <div class="mb-3 form-check">
          <input type="checkbox" id="esEmpresa" class="form-check-input" [(ngModel)]="perfil.esEmpresa" name="esEmpresa">
          <label class="form-check-label" for="esEmpresa">Soy una empresa</label>
        </div>
        <div class="row mb-3" *ngIf="perfil.esEmpresa">
          <div class="col-md-6">
            <label for="nombreEmpresa" class="form-label">Nombre de la Empresa</label>
            <input type="text" id="nombreEmpresa" class="form-control" [(ngModel)]="perfil.nombreEmpresa" name="nombreEmpresa">
          </div>
          <div class="col-md-6">
            <label for="ruc" class="form-label">RUC</label>
            <input type="text" id="ruc" class="form-control" [(ngModel)]="perfil.ruc" name="ruc">
          </div>
        </div>
        <button class="btn btn-primary">Guardar Empresa</button>
      </form>
    </div>

    <!-- Método de Pago -->
    <div class="tab-pane fade" id="pago" role="tabpanel">
      <form (ngSubmit)="guardarPago()">
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="tarjeta" class="form-label">Número de Tarjeta</label>
            <input type="text" id="tarjeta" class="form-control" [(ngModel)]="perfil.tarjeta" name="tarjeta">
          </div>
          <div class="col-md-3">
            <label for="fechaExp" class="form-label">Fecha Expiración</label>
            <input type="text" id="fechaExp" class="form-control" [(ngModel)]="perfil.fechaExp" name="fechaExp">
          </div>
          <div class="col-md-3">
            <label for="cvv" class="form-label">CVV</label>
            <input type="text" id="cvv" class="form-control" [(ngModel)]="perfil.cvv" name="cvv">
          </div>
        </div>
        <button class="btn btn-primary">Guardar Método de Pago</button>
      </form>
    </div>

    <!-- Historial de Ventas -->
    <div class="tab-pane fade" id="ventas" role="tabpanel">
      <h4 class="mb-3">Historial de Ventas</h4>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID Venta</th>
            <th>Fecha</th>
            <th>Total</th>
            <th>Detalles</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let venta of ventas">
            <td>{{ venta.venta_id }}</td>
            <td>{{ venta.fecha_venta | date:'short' }}</td>
            <td>{{ venta.precio_total | currency }}</td>
            <td><button class="btn btn-info">Ver</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
