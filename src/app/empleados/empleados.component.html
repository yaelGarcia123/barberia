<div class="empleado-container">
  <h1>Lista de Empleados</h1>

  <!-- Mensajes de estado -->
  <div *ngIf="cargando" class="cargando">
    <p>Cargando empleados...</p>
    <div class="spinner"></div>
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
    <button (click)="obtenerEmpleados()">Reintentar</button>
  </div>

  <!-- Filtro -->
  <div class="filtro-container">
    <input
      type="text"
      [(ngModel)]="filtro"
      (input)="aplicarFiltro()"
      placeholder="Buscar empleados..."
      class="filtro-input"
    >
  </div>

  <!-- Tabla de empleados -->
  <div *ngIf="!cargando && !error" class="tabla-container">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>RFC</th>
          <th>Puesto</th>
          <th>Departamento</th>
          <th>Contrato</th>
          <th>F. Ingreso</th>
          <th>Salario</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empleado of empleadosFiltrados">
          <td>{{ empleado.IdEmpleado }}</td>
          <td>{{ empleado.Nombre }} {{ empleado.Apellido }}</td>
          <td>{{ empleado.RFC }}</td>
          <td>{{ empleado.Puesto }}</td>
          <td>{{ empleado.Departamento }}</td>
          <td>{{ empleado.TipoContrato }}</td>
          <td>{{ formatearFecha(empleado.FechaIngreso) }}</td>
          <td>{{ formatearSalario(empleado.Salario) }}</td>
          <td class="acciones">
            <button class="btn-detalles">Detalles</button>
          </td>
        </tr>
        <tr *ngIf="empleadosFiltrados.length === 0">
          <td colspan="9" class="sin-resultados">No se encontraron empleados</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Total de empleados -->
  <div *ngIf="!cargando && !error" class="total-empleados">
    Total de empleados: {{ empleadosFiltrados.length }}
  </div>
</div>